<main class="min-h-screen bg-zinc-800">
  <app-header-default></app-header-default>

  <section class="max-w-2xl mx-auto mt-5 lg:mt-10 p-3 flex">
    <div class="w-full">
      <div *ngIf="page === 'FORM'">
        <div class="flex justify-center">
          <button
            type="button"
            class="relative"
            title="Change avatar"
            (click)="changePageValue('AVATAR')"
          >
            <img
              [src]="'https://api.multiavatar.com/' + 'thais.maquine' + '.svg'"
              class="rounded-full h-28 w-h-28 mr-1"
            />

            <fa-icon
              [icon]="faPen"
              class="absolute -bottom-1 -right-1 bg-sky-500 rounded-full w-8 h-8 flex items-center justify-center"
            ></fa-icon>
          </button>
        </div>

        <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="mt-5">
          <div>
            <label
              for="registration"
              class="text-zinc-200 text-sm ml-3 mb-1 block"
              >Name</label
            >
            <div
              [ngClass]="
                f['name'].invalid && (f['name'].dirty || f['name'].touched)
                  ? 'box-input box-input-error'
                  : 'box-input'
              "
            >
              <input
                type="text"
                placeholder="Enter your name"
                class="h-full w-full bg-transparent"
                formControlName="name"
              />
            </div>

            <div
              *ngIf="
                f['name'].invalid && (f['name'].dirty || f['name'].touched)
              "
              class="text-rose-600 text-sm mt-1"
            >
              <div *ngIf="f['name'].getError('required')">
                Name is required.
              </div>
            </div>
          </div>

          <div class="mt-5">
            <label
              for="registration"
              class="text-zinc-200 text-sm ml-3 mb-1 block"
              >E-mail</label
            >
            <div
              [ngClass]="
                f['email'].invalid && (f['email'].dirty || f['email'].touched)
                  ? 'box-input box-input-error'
                  : 'box-input'
              "
            >
              <input
                type="email"
                placeholder="Enter your e-mail"
                class="h-full w-full bg-transparent"
                formControlName="email"
              />
            </div>

            <div
              *ngIf="
                f['email'].invalid && (f['email'].dirty || f['email'].touched)
              "
              class="text-rose-600 text-sm mt-1"
            >
              <div *ngIf="f['email'].getError('required')">
                E-mail is required.
              </div>
            </div>
          </div>

          <div class="mt-5">
            <label
              for="registration"
              class="text-zinc-200 text-sm ml-3 mb-1 block"
              >Username</label
            >
            <div
              [ngClass]="
                f['username'].invalid &&
                (f['username'].dirty || f['username'].touched)
                  ? 'box-input box-input-error'
                  : 'box-input'
              "
            >
              <input
                type="text"
                placeholder="Enter your username"
                class="h-full w-full bg-transparent"
                formControlName="username"
              />
            </div>

            <div
              *ngIf="
                f['username'].invalid &&
                (f['username'].dirty || f['username'].touched)
              "
              class="text-rose-600 text-sm mt-1"
            >
              <div *ngIf="f['username'].getError('required')">
                Username is required.
              </div>
            </div>
          </div>

          <button
            type="submit"
            class="bg-sky-600 hover:bg-sky-700 ease-out duration-500 py-3 w-6/12 rounded-md text-white mx-auto block mt-10"
          >
            Save changes
          </button>
        </form>
      </div>

      <app-avatar
        [changePageValue]="onCangePageValue"
        *ngIf="page === 'AVATAR'"
      ></app-avatar>
    </div>
  </section>
</main>
